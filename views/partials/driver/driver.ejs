<script>
    // Function to fetch drivers
    const fetchDrivers = async() => {
        const token = getCookie('token'); // Function to retrieve token from cookies

        // Check if the token is expired
        if (isTokenExpired(token)) {
            console.error('Token is expired. Redirecting to login...');
            // Redirect to login page if the token is expired
            window.location.href = '/sign-in';
            return;
        }

        try {
            const response = await axios.get(`${process.env.APP_URI}/driver`, {
                headers: {
                    Authorization: `Bearer ${token}` // Attach the token to the request
                }
            });
            console.log('Drivers fetched successfully:', response.data);
            return response.data; // Assuming the response data contains the drivers
        } catch (error) {
            console.error('Error fetching drivers:', error);
            alert('Error fetching drivers. Please try again.');
        }
    };

    // Function to get cookie by name
    const getCookie = (name) => {
        const value = `; ${document.cookie}`;
        const parts = value.split(`; ${name}=`);
        if (parts.length === 2) return parts.pop().split(';').shift();
    };
</script>
